<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
  <title>{% block title %}{% endblock %} Â· DropSpot</title>
</head>

<body>
  <div class="container">
    <nav class="navbar navbar-expand-sm navbar-light bg-light">
      <span class="navbar-brand">
        DropSpot
      </span>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li class="nav-item {{ 'active' if page == 'drop' else '' }}">
            <a class="nav-link" href="/drop">Drop</a>
          </li>
        </ul>
      </div>
      {% if not user_email %}
      <ul class="navbar-nav">
        <li class="nav-item {{ 'active' if page == 'login' else '' }}">
          <a class="nav-link" href="/login">Log in</a>
        </li>
        <li class="nav-item {{ 'active' if page == 'register' else '' }}">
          <a class="nav-link" href="/register">Register</a>
        </li>
      </ul>
      {% else %}
      <ul class="navbar-nav">
        <li class="nav-item {{ 'active' if page == 'profile' else '' }}">
          <a class="nav-link" href="/profile">Profile</a>
        </li>
        <li class="nav-item {{ 'active' if page == 'login' else '' }}">
          <a class="nav-link" href="/logout">Log out: {{ user_email }}</a>
        </li>
      </ul>
      {% endif %}
    </nav>
    <div class="row">
      <div class="col">
        {% for cat, msg in get_flashed_messages(with_categories=true) %}
        {% if cat == 'error' %}
        {% set class = 'alert alert-danger' %}
        {% else %}
        {% set class = 'alert alert-success' %}
        {% endif %}
        <div class="{{ class }}">{{ msg }}</div>
        {% endfor %}
      </div>
    </div>
    <br />
    <br />
    {% block content %}{% endblock %}
  </div>
</body>

</html>